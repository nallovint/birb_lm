body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background: #0b0f17; color: #eaeef4; margin: 0; }
.container { width: 90vw; max-width: 90vw; margin: 0 auto; padding: 20px; }
header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.controls { display: flex; align-items: center; gap: 12px; }
button { background: #2a5bd7; color: white; border: 0; border-radius: 8px; padding: 10px 14px; cursor: pointer; }
button:disabled { opacity: 0.6; cursor: not-allowed; }
#chat { background: #121826; border: 1px solid #1d2536; border-radius: 10px; padding: 12px; min-height: 40vh; max-height: 60vh; overflow-y: auto; }
.msg { padding: 10px 12px; margin: 8px 0; border-radius: 8px; }
.msg.user { background: #183153; }
.msg.assistant { background: #15253f; }
.input { display: flex; gap: 10px; margin-top: 12px; }
textarea { flex: 1; border-radius: 8px; border: 1px solid #1d2536; background: #0b0f17; color: #eaeef4; padding: 10px; }

/* Markdown rendering */
.msg.assistant pre { background: #0d1320; border: 1px solid #1d2536; padding: 10px; border-radius: 8px; overflow-x: auto; }
.msg.assistant code { background: #0d1320; padding: 2px 4px; border-radius: 4px; }
.msg.assistant a { color: #8ab4ff; }

/* Citations list styling */
.msg.assistant .citations { font-size: 0.9em; opacity: 0.9; margin-top: 8px; }
.msg.assistant .citations ol { margin: 6px 0 0 1.2em; padding: 0; }
.msg.assistant .citations li { margin: 2px 0; }

/* Responsive three-column layout using percentages */
.layout { display: grid; grid-template-columns: 20% 1fr 26%; gap: 18px; align-items: start; }
.layout.no-docs { grid-template-columns: 20% 1fr 26%; }
.chat-col { min-width: 0; }
.summary-panel { position: sticky; top: 16px; }
.summary-panel > div { max-height: 60vh; overflow-y: auto; }

/* Document selection panel */
.doc-select { position: sticky; top: 16px; display: flex; flex-direction: column; gap: 12px; }
.doc-select-inner { background:#121826; border:1px solid #1d2536; border-radius:10px; padding:12px; }
.doc-list { display: flex; flex-direction: column; gap: 6px; max-height: 40vh; overflow-y: auto; margin: 8px 0; }
.doc-item { display:flex; align-items:center; gap:8px; font-size: 0.95em; }
.doc-item input { accent-color: #2a5bd7; }
.lock-btn { width: 100%; }
.history-pane { margin-top: 12px; border-top:1px dashed #1d2536; padding-top:10px; }
.history-list { display:flex; flex-direction: column; gap:6px; max-height: 30vh; overflow-y:auto; scrollbar-color: #2a5bd7 #0b0f17; scrollbar-width: thin; }
.history-list::-webkit-scrollbar { width: 10px; }
.history-list::-webkit-scrollbar-thumb { background-color: #2a5bd7; border-radius: 8px; border: 2px solid #0d1320; }
.history-list::-webkit-scrollbar-track { background: #0b0f17; }

/* When docs are hidden, give history more vertical space */
.layout.no-docs .history-list { max-height: 70vh; }
.history-item { display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px; border:1px solid #1d2536; border-radius:8px; background:#0d1320; cursor:pointer; }
.history-item .title { font-size:0.95em; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

@media (max-width: 980px) {
  .layout { grid-template-columns: 100%; }
  .summary-panel { position: static; }
  .doc-select { position: static; }
}

/* Landing page styles */
.topnav { display:flex; align-items:center; gap:12px; }
.topnav .spacer { flex:1; }
.brand { font-weight: 700; font-size: 1.1rem; }
.provider-badge { opacity: 0.8; }
.nav-links { display:flex; gap:10px; align-items:center; }
.nav-links .link { padding: 8px 10px; border-radius: 8px; text-decoration: none; color: #8ab4ff; }
.nav-links .link:hover { background: #121826; border: 1px solid #1d2536; }
.nav-links .link.active, .nav-links .link[aria-current="page"] { background: #2a5bd7; color: #fff; border-color: transparent; }

.landing-hero { position: relative; min-height: 60vh; display:flex; align-items:center; justify-content:center; background: radial-gradient(1200px 600px at 50% -20%, #1b2847 0%, #0b0f17 60%); }
.landing-overlay { position:absolute; inset:0; background: linear-gradient(180deg, rgba(11,15,23,0.3) 0%, rgba(11,15,23,1) 80%); pointer-events:none; }
.landing-content { position: relative; z-index: 1; }
.hero-inner { margin: 80px 0 40px; }
.hero-inner h1 { font-size: 2.4rem; margin: 0 0 10px; }
.hero-inner p { opacity: 0.9; max-width: 760px; }
.hero-cta { display:flex; gap:12px; margin-top: 16px; }
.btn-primary, .btn-secondary, .cta, .link { display:inline-block; text-decoration:none; border-radius:10px; padding: 10px 14px; }
.btn-primary { background:#2a5bd7; color:#fff; }
.btn-secondary { background:#121826; border:1px solid #1d2536; color:#eaeef4; }
.cta { background:#2a5bd7; color:#fff; }
.link { color:#8ab4ff; padding:0; }

.how { padding: 30px 0; }
.how h2 { margin-top: 0; }
.steps { display:grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
.step { background:#121826; border:1px solid #1d2536; border-radius:12px; padding:14px; opacity: 0; transform: translateY(10px); transition: all 400ms ease; }
.step.in { opacity: 1; transform: translateY(0); }
.step .num { width:28px; height:28px; border-radius:50%; background:#2a5bd7; display:flex; align-items:center; justify-content:center; font-weight:700; margin-bottom:8px; }

.tech { padding: 10px 0 40px; }
.tech h2 { margin-top: 0; }
.tech-grid { display:grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
.tech-grid > div { background:#121826; border:1px solid #1d2536; border-radius:12px; padding:14px; }
.center { text-align:center; margin-top: 16px; }

.footer { display:flex; align-items:center; gap:10px; justify-content:center; opacity:0.8; padding-bottom: 30px; }
.muted { opacity: 0.6; }

@media (max-width: 980px) {
  .steps { grid-template-columns: 1fr; }
  .tech-grid { grid-template-columns: 1fr; }
}

/* Indexing accordion */
.indexing { padding: 10px 0 40px; }
.accordion { display: flex; flex-direction: column; gap: 10px; }
.acc-item { background:#121826; border:1px solid #1d2536; border-radius:12px; overflow: hidden; }
.acc-header { width: 100%; text-align: left; padding: 12px 14px; background: none; color: #eaeef4; border: 0; font-weight: 600; cursor: pointer; }
.acc-body { padding: 0 14px 14px; display: none; }
.acc-item.open .acc-body { display: block; }
.code-card { background:#0d1320; border:1px solid #1d2536; border-radius:8px; padding:10px; overflow-x:auto; margin-top: 8px; }
.code-card pre { margin: 0; white-space: pre-wrap; }
.code-card code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.code-card pre code.hljs { background: transparent; }

/* Settings page */
.settings-grid { display:grid; grid-template-columns: 1fr 34%; gap: 18px; align-items:start; }
.card { background:#121826; border:1px solid #1d2536; border-radius:12px; padding:14px; }
.form { display:flex; flex-direction: column; gap: 12px; }
.field { display:flex; flex-direction: column; gap:6px; }
.label { font-weight: 600; }
.inline { display:flex; gap:12px; flex-wrap:wrap; }
.radio { display:flex; align-items:center; gap:6px; }
.group { border-top:1px dashed #1d2536; padding-top:10px; margin-top:6px; }
.input-text { border-radius:8px; border:1px solid #1d2536; background:#0b0f17; color:#eaeef4; padding:10px; width:100%; }
.actions { display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.status { opacity:0.9; min-height: 1.2em; }
.bullets { margin: 0; padding-left: 1.1em; }
.bullets li { margin: 6px 0; }
.upload-zone { border:2px dashed #1d2536; border-radius:12px; padding:18px; text-align:center; cursor:pointer; }
.upload-zone.disabled { opacity: 0.6; pointer-events: none; cursor: not-allowed; }
.upload-zone:focus { outline: 2px solid #2a5bd7; outline-offset: 2px; }
.doc-listing { display:flex; flex-direction: column; gap: 8px; margin-top: 10px; max-height: 40vh; overflow-y: auto; }
.doc-row { display:flex; align-items:center; justify-content: space-between; gap: 10px; padding: 10px; border:1px solid #1d2536; border-radius:10px; background:#0d1320; }
.doc-meta .name { font-weight: 600; }
.doc-meta .sub { font-size: 0.9em; }
.progress { height: 10px; background:#0d1320; border:1px solid #1d2536; border-radius: 8px; overflow: hidden; margin-top:8px; }
.progress-bar { height: 100%; background:#2a5bd7; transition: width 200ms ease; }

@media (max-width: 980px) {
  .settings-grid { grid-template-columns: 1fr; }
}
